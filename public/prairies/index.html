<!DOCTYPE html>
<html lang="en">
<head>

    <title>Project Endangered</title>
    <meta name="description" content="Project Endagered WebVR">
    <meta name="viewport" content="width=device-width, initial-scale=1.0" viewport-fit=cover>
    

    <!--New environment setup-->

    <!--External Components-->
    <script src="https://aframe.io/releases/1.0.4/aframe.min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/n5ro/aframe-physics-system@v4.0.1/dist/aframe-physics-system.min.js"></script>
    <script src="https://unpkg.com/aframe-physics-extras@0.1.2/dist/aframe-physics-extras.min.js"></script>
    <script src="https://unpkg.com/aframe-environment-component@1.2.0/dist/aframe-environment-component.min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/donmccurdy/aframe-extras@v6.1.1/dist/aframe-extras.min.js"></script>
    <script src="https://rawgit.com/takahirox/aframe-rain/master/build/aframe-rain.min.js"></script>
    
    
</head>
<body>
    <a-scene  renderer="gammaOutput: true" vr-mode-ui="enabled: true" id="scene" physics="restitution: 0; debug:false; shadow=autoUpdate: false">

        <a-assets timeout = "10000">
        
            <!--Envrionment Assets-->
            <a-asset-item id="environment-obj" crossorigin="anonymous" src="/assets/prairies_environment.glb"></a-asset-item> 
 

        </a-assets>

        <a-entity light="type: ambient; color: ##d9d9d9; intensity: 0.550"></a-entity>
        <a-entity light="type: directional; color: #FFF; intensity: 0.6" position="-0.5 1 1"></a-entity>


        <!--Lighting-->
        <!--<a-entity light="type: ambient; color: #dcd3d3; intensity:0.99" ></a-entity>
        <a-entity id = "light_spot"
                light="type: point; color: #FFF; intensity: 0.23; castShadow: true; shadowRadius: 2.5"
                position="-1.246 16.753 -4.678">
        </a-entity>-->

        <!--Player Controls-->
        <a-entity id="player" movement-controls="speed:0.2; constrainToNavMesh: true;" position="0 1.3 0">
            <a-entity
                id = "player2"
                camera
                wasd-controls='acceleration: 10'
                look-controls>
                <a-entity
                    id = "player-details"
                    collision-filter="group: mouse"
                    cursor="rayOrigin:mouse;"
                    raycaster="far:20; interval:200; objects:.interactive"
                ></a-entity> 
            </a-entity>
        </a-entity>


        <!--Environment Models-->
    <a-entity
            id ="environment"
            environment="preset: default; groundColor: #445; grid:none; ground:none; lighting:none; skyType:gradient; skyColor:#006f85; horizonColor:#fff">
        </a-entity>

        <a-entity
            id="environment_model"
            class="interactive"
            position="-2.806 0.009 -9"
            rotation="0 180 0"
            scale= " 1 1 1"
            gltf-model="#environment-obj"
            shadow="cast:false; receive:true;">
        </a-entity>

    </a-scene>
</body>
</html>